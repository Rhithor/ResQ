// Prisma schema for ResQ backend
// Uses the existing DATABASE_URL in .env (Postgres / Supabase)

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model victim {
  id             String                   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  name           String
  emergency_type String
  status         String?                  @default("open")
  location       Unsupported("geography")
  created_at     DateTime?                @default(now()) @db.Timestamptz(6)
}

model volunteer {
  id            String                   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  name          String
  resource_type String
  is_available  Boolean?                 @default(true)
  location      Unsupported("geography")
  last_updated  DateTime?                @default(now()) @db.Timestamptz(6)
}